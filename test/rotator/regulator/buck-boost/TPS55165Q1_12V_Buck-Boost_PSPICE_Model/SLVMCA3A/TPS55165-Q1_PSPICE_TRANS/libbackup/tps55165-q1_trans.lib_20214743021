*$
* TPS55165-Q1
*****************************************************************************
* (C) Copyright 2017 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS55165-Q1
* Date: 06DEC2017
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS5516xEVM
* EVM Users Guide: SLVUAY1 - November 2016
* Datasheet: SLVSD46 - JUNE 2017
* Topologies Supported: Buck-Boost
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
* Final 1.10
* Model changes:
* 	1. Low power mode implementation during boost mode is modified in driver block at BOOST LDRV signal
* 	2. IGN_PWRL dependency on EPROM_OK signal in steady state testbenches. This bug was found during sim integration
*	3. Added the pull-up current source at IGN_PWRL as per datasheet description
*
*****************************************************************************
*
* Model Usage Notes:
*
* 1. The following features have been modeled
*      a. Switching Characteristics and timing characteristics
*      b. Low power mode
*      c. Powergood and programmable delay
* 2. The following features have not been modeled. 
*      a. Peak current limit
*      b. Spread spectrum
*      c. Bootstrapping
*      d. Temperature effects and operating current
*
*****************************************************************************
.SUBCKT TPS55165-Q1_TRANS BST1 BST2 GND_0 GND_1 IGN IGN_PWRL L1 L2 PAD PG PG_DLY
+  PGND PS SS_EN VINL VINP VOS_FB VOUT VOUT_SENSE VREG VREG_Q PARAMS: STEADY_STATE=0
X_S1    VOUT12OR5 GND_0 VOUT_SENSE FB_INT TPS55165-Q1_TOP_S1 
V_V2         N167759013 0 10m
V_V3         N168234863 0 1
R_R9         GND_0 FB_INT  1Meg  
V_U6_V22         U6_N167243523 0 980m
X_U6_U67         U6_N16721165 U6_N16760278 LPM_CHARGE LPM_DISCHARGE
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_U64         U6_VREF_LPM FB_INT U6_N167189363 U6_N16744240
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U6_V18         U6_N167189363 0 0.5m
X_U6_U72         PS_EN U6_N16744240 U6_N16721165 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U6_V23         U6_N16770470 0 799m
E_U6_ABM1         ISEN_FOR_LPM 0 VALUE { IF( V(PS_EN)>0.5,V(ISEN_INT),0 )    }
X_U6_U66         ISEN_FOR_LPM U6_N16719337 U6_N167243523 U6_N16760278
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U6_V19         U6_N16719337 0 990m
E_U6_ABM2         U6_VREF_LPM 0 VALUE { IF( V(PS_EN)>0.5,V(U6_N16770470),0 )   
+  }
E_ABM19         VOUT12OR5 0 VALUE { IF(V(VOS_FB)>10m,1,0)    }
E_E1         VIN_BUF GND_0 VINP GND_0 1
C_U2_C23         0 U2_N16738368  1n IC=0 TC=0,0 
V_U2_V7         BOOSTRAMP U2_N16764112 10m
C_U2_C1         0 U2_N124395  1n IC=0 
C_U2_C3         0 U2_N16750592  1n IC=0 
X_U2_U36         U2_N16738947 U2_N16738336 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U2_ABM1         U2_N16750672 0 VALUE { ( V(VIN_BUF)  
+ +V(VOUT_SENSE) ) / 5.0   }
X_U2_S7    U2_CLK_DIS 0 U2_N16738368 0 OSCILLATOR_U2_S7 
X_U2_D7         0 U2_N16738368 d_d1 PARAMS: 
G_U2_ABMII1         U2_N16738356 U2_N16738368 VALUE {
+  IF(V(U2_N16738336)>0.5,2.1276m,0)    }
E_U2_E6         U2_N16750762 0 U2_N16750592 0 -1
G_U2_G3         U2_SET5 U2_N16750592 VOUT_SENSE 0 0.43m
X_U2_U66         U2_N16738368 U2_N16738552 CLK COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U2_E5         U2_N16764112 U2_N16750762 U2_N16750672 0 1
X_U2_D4         U2_N124395 U2_SET5 d_d1 PARAMS: 
V_U2_V23         U2_N16738552 0 1
X_U2_D6         U2_N16750592 U2_SET5 d_d1 PARAMS: 
X_U2_U27         U2_N16738947 CLK U2_RAMPDIS OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_D5         U2_N16738368 U2_N16738356 d_d1 PARAMS: 
X_U2_S5    U2_RAMPDIS 0 U2_N124395 0 OSCILLATOR_U2_S5 
X_U2_U28         FAULT PS_EN U2_N16738947 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_U67         CLK U2_CLK_DIS BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=30n
G_U2_G1         U2_SET5 U2_N124395 VIN_BUF 0 0.43m
V_U2_V5         U2_SET5 0 15
E_U2_E3         BUCKRAMP 0 U2_N124395 0 1
V_U2_V22         U2_N16738356 0 1
X_U2_S8    U2_RAMPDIS 0 U2_N16750592 0 OSCILLATOR_U2_S8 
D_U5_D11         U5_IGN_OK IGN_LOGIC D_D121 
E_U5_ABM19         U5_N17528804 0 VALUE { IF(V(VOS_FB)>10m,3.8,1.9)    }
V_U5_V13         U5_N17528855 0 37.95
R_U5_R30         U5_N17602897 U5_PGOOD_INT  72.15k TC=0,0 
E_U5_ABM24         U5_N17668009 0 VALUE { IF((V(PG)>1.5  
+  & V(PS)>1.5), 1,0)   }
X_U5_U49         U5_N17528926 U5_N17528896 U5_N17528936 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U5_ABM28         VIN_OK 0 VALUE { IF({STEADY_STATE>0.5},
+  V(U5_N17528926),V(U5_N17650670))    }
R_U5_R29         0 PG_DLY  1G TC=0,0 
E_U5_ABM21         U5_N17565962 0 VALUE { IF( V(U5_SS_DONE)>0.5, V(FB_INT),1)  
+   }
X_U5_U79         U5_IGN_OK U5_N17645415 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=115u
X_U5_U65         PS_EN U5_N17635731 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U91         IGN_LOGIC IGN_LATCH U5_N17779502 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
G_U5_ABMII1         U5_N17538101 SS VALUE { IF(V(U5_SS_START) >0.5,0.426666u,0)
+     }
I_U5_I1         U5_N17580031 PG_DLY DC 10u  
X_U5_U62         U5_N17552823 FB_INT U5_N175527963 U5_N17552864
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U5_ABM29         U5_EPROM_OK 0 VALUE { IF({STEADY_STATE>0.5},
+  V(U5_N17779502),V(U5_N17700669))    }
R_U5_R28         U5_N17528936 U5_N17650670  72.15k TC=0,0 
X_U5_U85         U5_VOUT_FLT U5_N17635731 U5_N17642392 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U5_V14         U5_N175527963 0 20m
G_U5_ABM2I1         U5_N17580031 U5_N17580045 VALUE {
+  IF(V(U5_PGOOD_INT)>0.5,(IF(V(PG_DLY)>1.5,0.025u,IF(V(PG_DLY)<0.08,1.42857u,-0.00240741n*(V(PG_DLY)*100k-10k)+0.25u))),0)
+     }
X_U5_U84         U5_PGOOD_INT U5_PGOOD_DELAY_DONE U5_N17754510 NAND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_C23         U5_N17650670 0  1n  TC=0,0 
C_U5_C1         U5_N17580045 0  1n IC=0 TC=0,0 
R_U5_R12         U5_N17168035 ILIMIT  1  
V_U5_V15         U5_N17569119 0 10m
X_U5_D9         SS U5_N17538101 d_d1 PARAMS: 
R_U5_R32         U5_N17644117 U5_N17700669  14.5k TC=0,0 
V_U5_V21         U5_N17580031 0 4.8
E_U5_ABM16         VREF 0 VALUE { IF(V(SS)<0.8,V(SS),0.8)    }
V_U5_V23         U5_N17584200 0 1
X_U5_U63         U5_N17565962 U5_N17552782 U5_N17569119 N17552899
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U5_C26         U5_N17700669 0  1n  TC=0,0 
V_U5_V18         U5_N17573137 0 10m
V_U5_V12         U5_N17538101 0 1
D_U5_D13         U5_N17668009 U5_N17687385 D_D121 
X_U5_U64         FB_INT U5_N17573084 U5_N17573137 U5_N17602897
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U5_V22         U5_N17582202 0 2
C_U5_C21         SS 0  1n IC={{STEADY_STATE}*0.8} 
V_U5_V16         U5_N17552823 0 939m
D_U5_D14         U5_N17687372 U5_N17668009 D_D121 
X_U5_U66         U5_N17580045 U5_N17584200 U5_PGOOD_DELAY_DONE COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U5_ABM18         U5_SS_DONE 0 VALUE { IF(V(VREF)<0.8,0,1)    }
V_U5_V19         U5_N17573084 0 740m
X_U5_D12         U5_N17580045 U5_N17582202 d_d1 PARAMS: 
R_U5_R1         U5_N17687385 U5_N17687396  130.7k TC=0,0 
R_U5_R2         U5_N17687372 U5_N17687396  557k TC=0,0 
X_U5_U82         U5_INPUT_FLT U5_N17642392 FAULT OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U89         IGN_LATCH U5_N17645415 U5_N17644117 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U5_C2         U5_N17687396 0  1n  TC=0,0 
X_U5_S5    FAULT 0 U5_PGOOD_INT 0 HK_U5_S5 
X_U5_U60         U5_N17528855 VIN_BUF U5_N175288283 U5_N17528896
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U86         VIN_OK U5_EPROM_OK U5_SS_START AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U61         U5_SS_START U5_INPUT_FLT INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U5_V11         U5_N175288283 0 50m
E_U5_ABM23         IGN_LATCH 0 VALUE { IF((V(PG)>1.5  
+  & V(IGN_PWRL_INT)>1.5), 1,0)   }
C_U5_C6         0 ILIMIT  1n  
C_U5_C24         U5_PGOOD_INT 0  1n  TC=0,0 
X_U5_U59         VIN_BUF U5_N17528804 U5_N175288663 U5_N17528926
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U69         U5_N17552864 U5_VOUT_FLT INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U5_V17         U5_N17552782 0 740m
X_U5_S4    U5_PGOOD_INT 0 U5_N17580045 0 HK_U5_S4 
X_U5_U90         U5_N17687396 PS_EN BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U5_U78         IGN_LOGIC U5_IGN_OK BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=11.2m
V_U5_V10         U5_N175288663 0 20m
X_U5_S3    U5_N17754510 0 PG 0 HK_U5_S3 
E_U5_ABM17         U5_N17168035 0 VALUE { (250m*4*2)+1.5    }
X_U5_S2    FAULT 0 SS 0 HK_U5_S2 
X_U4_D10         U4_N16949652 VVA d_d1 PARAMS: 
C_U4_C9         0 VCA  100f  
C_U4_C8         0 VVA  4p  
G_U4_G5         0 VCA VVA U4_VVA_ACT 20u
E_U4_ABM16         U4_VVA_ACT 0 VALUE { (V(ISEN)*4*250m)+1.5    }
R_U4_R7         0 VVA  1G  
G_U4_ABM2I1         0 VVA VALUE { 20e-6*(V(VREF)-V(FB_INT))    }
R_U4_RZV         U4_N16775141 VVA  330k  
E_U4_ABM17         U4_N16949652 0 VALUE { IF(V(PS_EN)>0.5,1.5,0)    }
R_U4_R8         0 VCA  1Meg  
C_U4_CCV         U4_N16775141 0  140p  
X_U4_D9         VVA ILIMIT d_d1 PARAMS: 
X_U4_D8         0 VCA d_d1 PARAMS: 
C_U4_CCI         0 U4_N16775355  75p  
E_U4_ABM1         U4_N16929267 0 VALUE { ( V(VINP)  
+ +V(VOUT_SENSE) ) / 5.03   }
R_U4_RZI         U4_N16775355 VCA  370k  
X_U4_D7         VCA U4_N16929267 d_d1 PARAMS: 
X_U73         VINP VOUT N167759013 N16831982 COMPHYS_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_U1_V1         U1_N16733033 0 0.5
X_U1_U55         CLK U1_N16745530 U1_N16744945 N16744979 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U54         CLK U1_N16740159 U1_N16739234 N16741552 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_S2    BOOSTDRV 0 U1_N16737594 0 PWM_U1_S2 
X_U1_U57         U1_BOOST_CLK U1_N16740159 BOOSTDRV U1_BOOSTDRV_N
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U49         U1_N16744945 U1_BUCK_SET_MASK U1_BUCK_CLK AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U41         U1_N185413 BUCKDRV U1_N16890380 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U59         FAULT U1_N16890380 U1_N16740159 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U45         U1_N16737594 U1_N16737782 U1_BOOST_SET_MASK COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U56         U1_BUCK_CLK U1_N16745530 BUCKDRV U1_BUCKDRV_N
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U43         U1_N16548296 U1_N16733033 U1_BUCK_SET_MASK COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U1_V3         U1_N16737782 0 0.5
X_U1_D1         U1_N16548296 U1_N16548465 d_d1 PARAMS: 
X_U1_U42         U1_N185976 BOOSTDRV U1_N16929810 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_S1    BUCKDRV 0 U1_N16548296 0 PWM_U1_S1 
G_U1_ABMII1         U1_N16548465 U1_N16548296 VALUE { V(U1_BUCKDRV_N)*14.28m   
+  }
X_U1_U46         VCA BOOSTRAMP U1_N185413 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
G_U1_ABMII2         U1_N16737602 U1_N16737594 VALUE { V(U1_BOOSTDRV_N)*14.28m  
+   }
V_U1_V2         U1_N16548465 0 1
V_U1_V4         U1_N16737602 0 1
X_U1_D2         U1_N16737594 U1_N16737602 d_d1 PARAMS: 
X_U1_U47         U1_N16739234 U1_BOOST_SET_MASK U1_BOOST_CLK AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U1_C1         0 U1_N16548296  1n  
X_U1_U58         U1_N16929810 FAULT U1_N16745530 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U1_C2         0 U1_N16737594  1n  
X_U1_U44         BUCKRAMP VCA U1_N185976 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_V4         N16825463 0 3.1
X_U3_S14    U3_N18813716 0 VREG U3_N18813641 DRIVER_U3_S14 
X_U3_U74         U3_N18813151 U3_N18973763 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=5n
E_U3_E1         U3_N18942550 0 U3_HDRV_FINAL_BOOST 0 1
X_U3_U38         U3_N18912453 U3_N18912458 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=1n
V_U3_V23         L1 U3_N19155660 700m
X_U3_S8    U3_N18896310 0 VREG U3_HDRV_FINAL DRIVER_U3_S8 
V_U3_V20         U3_N19066479 0 1m
R_U3_R1         ISEN_INT ISEN  0.8k TC=0,0 
X_U3_S10    U3_N18813251 0 VREG U3_N18813192 DRIVER_U3_S10 
X_U3_S15    U3_N18813702 0 U3_N18813641 0 DRIVER_U3_S15 
X_U3_U36         U3_N18822186 U3_N18813192 U3_LSD_FINAL AND2_BASIC_GEN PARAMS:
+  VDD=5 VSS=0 VTHRESH=2.5
X_U3_U72         U3_N18942550 U3_N18852938 INV_DELAY_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5 DELAY=10n
X_U3_U50         VIN_OK U3_N18813427 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U46         U3_N18813716 U3_N18813702 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_S11    U3_N18813237 0 U3_N18813192 0 DRIVER_U3_S11 
X_U3_U80         BOOST_HSD1 BOOST_HSD1 U3_PS_EN_N U3_N18814137 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_S9    U3_N19199247 0 U3_HDRV_FINAL 0 DRIVER_U3_S9 
X_U3_U30         U3_N18813251 U3_N18813237 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U31         U3_N18813832 U3_N18906269 U3_N18909935 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U76         BOOSTDRV BOOSTDRV U3_N19060695 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U3_U24         U3_N18813515 U3_N18813832 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U71         U3_N19187193 U3_N18822186 INV_DELAY_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5 DELAY=10n
X_U3_U75         U3_N18813515 U3_N18813297 U3_PS_EN_N U3_BUCKDRV_PRE
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U68         U3_LSD2 LPM_CHARGE U3_N18813716 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U3_U81         U3_N19199247 U3_N19203527 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=5n
E_U3_ABM2         U3_ZCD_FINAL 0 VALUE { IF(V(U3_PS_EN_N)>0.5,  
+ 1,V(U3_ZCD) )   }
X_U3_U32         U3_N18813832 U3_N18906269 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=1n
X_U3_U69         U3_FAULT_B U3_N18813945 U3_PS_EN_N U3_LSD2 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U44         VOUT_0_7 U3_BOOST_HSD U3_BOOST_HSD BOOST_HSD1 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_H9    U3_N18814397 L2 ISEN_INT 0 DRIVER_U3_H9 
X_U3_U48         PS_EN U3_PS_EN_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U70         U3_LSD2_FINAL U3_N18813961 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=1n
V_U3_V1         U3_N18813465 0 0.7
X_U3_U43         VOUT U3_N18813465 VOUT_0_7 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
E_U3_ABM1         VREG 0 VALUE { IF(V(VIN_OK)>0.5,5.4,0)    }
X_U3_U33         U3_N18909935 U3_FAULT_B U3_N18813430 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U26         U3_FAULT_B U3_N19060695 U3_N18813443 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U3_D10         U3_N19163053 U3_N18814397 D_D112 
X_U3_U73         U3_N18814137 U3_N18813151 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=5n
D_U3_D9         U3_N19161132 VOUT D_D112 
D_U3_D6         U3_N19156064 L1 D_D112 
X_U3_S16    U3_N18813427 U3_N18813848 VOUT U3_N18813848 DRIVER_U3_S16 
X_U3_U28         BUCKDRV U3_FAULT_B U3_N18813515 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U3_C8         0 ISEN  7.962n  
X_U3_U78         U3_N18813430 LPM_DISCHARGE U3_ZCD_FINAL U3_N18813251
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U47         U3_N18814095 U3_N19203527 U3_N18896310 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U3_E2         U3_N19187193 0 U3_HDRV_FINAL 0 1
V_U3_V24         0 U3_N19156064 700m
V_U3_V22         0 U3_N19163053 700m
X_U3_S5    U3_LSD2_FINAL 0 U3_N18814397 0 DRIVER_U3_S5 
X_U3_S6    U3_HDRV_FINAL 0 VINP L1 DRIVER_U3_S6 
V_U3_V21         U3_N18814397 U3_N19161132 700m
X_U3_S12    U3_N18974109 0 VREG U3_HDRV_FINAL_BOOST DRIVER_U3_S12 
X_U3_U25         U3_N18813443 U3_N18912453 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U35         U3_N18813443 U3_N18813961 U3_BOOST_HSD AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_S13    U3_N18813151 0 U3_HDRV_FINAL_BOOST 0 DRIVER_U3_S13 
X_U3_U45         U3_N18814137 U3_N18973763 U3_N18974109 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U66         U3_LSD_FINAL U3_N18813297 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=1n
X_U3_U67         U3_BUCKDRV_PRE LPM_CHARGE U3_N18814095 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_S7    U3_LSD_FINAL 0 L1 0 DRIVER_U3_S7 
X_U3_U27         FAULT U3_FAULT_B INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U3_D5         U3_N19155660 VINP D_D112 
X_U3_U79         U3_N18814095 U3_N19199247 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=5n
X_U3_U39         U3_N18852938 U3_N18813641 U3_LSD2_FINAL AND2_BASIC_GEN PARAMS:
+  VDD=5 VSS=0 VTHRESH=2.5
X_U3_S4    U3_HDRV_FINAL_BOOST 0 VOUT U3_N18814397 DRIVER_U3_S4 
X_U3_U37         U3_N18912453 U3_N18912458 U3_N18813945 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U77         ISEN_FOR_LPM U3_N19066479 U3_ZCD COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_R10         N16831982 BUCK_BOOST  1  
R_R12         0 IGN_PWRL  0.3125Meg  
I_I1         GND_0 IGN_PWRL DC 8u  
E_E2         N16934290 0 IGN_PWRL 0 1
R_R11         N16934290 IGN_PWRL_INT  369.4  
C_C9         0 BUCK_BOOST  10n  
C_C10         0 IGN_PWRL_INT  1n  
X_U74         IGN N16825463 N168234863 IGN_LOGIC COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
.ENDS TPS55165-Q1_TRANS
*$
.subckt TPS55165-Q1_TOP_S1 1 2 3 4  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH Roff=5.25Meg Ron=14Meg Voff=0.2 Von=0.8
.ends TPS55165-Q1_TOP_S1
*$
.subckt OSCILLATOR_U2_S7 1 2 3 4  
S_U2_S7         3 4 1 2 _U2_S7
RS_U2_S7         1 2 1G
.MODEL         _U2_S7 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.8
.ends OSCILLATOR_U2_S7
*$
.subckt OSCILLATOR_U2_S5 1 2 3 4  
S_U2_S5         3 4 1 2 _U2_S5
RS_U2_S5         1 2 1G
.MODEL         _U2_S5 VSWITCH Roff=100e6 Ron=10m Voff=0.2V Von=0.8
.ends OSCILLATOR_U2_S5
*$
.subckt OSCILLATOR_U2_S8 1 2 3 4  
S_U2_S8         3 4 1 2 _U2_S8
RS_U2_S8         1 2 1G
.MODEL         _U2_S8 VSWITCH Roff=100e6 Ron=10m Voff=0.2V Von=0.8
.ends OSCILLATOR_U2_S8
*$
.subckt HK_U5_S5 1 2 3 4  
S_U5_S5         3 4 1 2 _U5_S5
RS_U5_S5         1 2 1G
.MODEL         _U5_S5 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends HK_U5_S5
*$
.subckt HK_U5_S4 1 2 3 4  
S_U5_S4         3 4 1 2 _U5_S4
RS_U5_S4         1 2 1G
.MODEL         _U5_S4 VSWITCH Roff=1m Ron=10e6 Voff=0.2 Von=0.8
.ends HK_U5_S4
*$
.subckt HK_U5_S3 1 2 3 4  
S_U5_S3         3 4 1 2 _U5_S3
RS_U5_S3         1 2 1G
.MODEL         _U5_S3 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.8
.ends HK_U5_S3
*$
.subckt HK_U5_S2 1 2 3 4  
S_U5_S2         3 4 1 2 _U5_S2
RS_U5_S2         1 2 1G
.MODEL         _U5_S2 VSWITCH Roff=1e9 Ron=1k Voff=0.25V Von=0.75V
.ends HK_U5_S2
*$
.subckt PWM_U1_S2 1 2 3 4  
S_U1_S2         3 4 1 2 _U1_S2
RS_U1_S2         1 2 1G
.MODEL         _U1_S2 VSWITCH Roff=10e6 Ron=1.0 Voff=0.2 Von=0.8
.ends PWM_U1_S2
*$
.subckt PWM_U1_S1 1 2 3 4  
S_U1_S1         3 4 1 2 _U1_S1
RS_U1_S1         1 2 1G
.MODEL         _U1_S1 VSWITCH Roff=10e6 Ron=1.0 Voff=0.2 Von=0.8
.ends PWM_U1_S1
*$
.subckt DRIVER_U3_S14 1 2 3 4  
S_U3_S14         3 4 1 2 _U3_S14
RS_U3_S14         1 2 1G
.MODEL         _U3_S14 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S14
*$
.subckt DRIVER_U3_S8 1 2 3 4  
S_U3_S8         3 4 1 2 _U3_S8
RS_U3_S8         1 2 1G
.MODEL         _U3_S8 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S8
*$
.subckt DRIVER_U3_S10 1 2 3 4  
S_U3_S10         3 4 1 2 _U3_S10
RS_U3_S10         1 2 1G
.MODEL         _U3_S10 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S10
*$
.subckt DRIVER_U3_S15 1 2 3 4  
S_U3_S15         3 4 1 2 _U3_S15
RS_U3_S15         1 2 1G
.MODEL         _U3_S15 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S15
*$
.subckt DRIVER_U3_S11 1 2 3 4  
S_U3_S11         3 4 1 2 _U3_S11
RS_U3_S11         1 2 1G
.MODEL         _U3_S11 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S11
*$
.subckt DRIVER_U3_S9 1 2 3 4  
S_U3_S9         3 4 1 2 _U3_S9
RS_U3_S9         1 2 1G
.MODEL         _U3_S9 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S9
*$
.subckt DRIVER_U3_H9 1 2 3 4  
H_U3_H9         3 4 VH_U3_H9 -1
VH_U3_H9         1 2 0V
.ends DRIVER_U3_H9
*$
.subckt DRIVER_U3_S16 1 2 3 4  
S_U3_S16         3 4 1 2 _U3_S16
RS_U3_S16         1 2 1G
.MODEL         _U3_S16 VSWITCH Roff=1e6 Ron=365 Voff=0.2 Von=0.8
.ends DRIVER_U3_S16
*$
.subckt DRIVER_U3_S5 1 2 3 4  
S_U3_S5         3 4 1 2 _U3_S5
RS_U3_S5         1 2 1G
.MODEL         _U3_S5 VSWITCH Roff=1e9 Ron=250m Voff=2 Von=3
.ends DRIVER_U3_S5
*$
.subckt DRIVER_U3_S6 1 2 3 4  
S_U3_S6         3 4 1 2 _U3_S6
RS_U3_S6         1 2 1G
.MODEL         _U3_S6 VSWITCH Roff=1e8 Ron=250m Voff=3 Von=4
.ends DRIVER_U3_S6
*$
.subckt DRIVER_U3_S12 1 2 3 4  
S_U3_S12         3 4 1 2 _U3_S12
RS_U3_S12         1 2 1G
.MODEL         _U3_S12 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S12
*$
.subckt DRIVER_U3_S13 1 2 3 4  
S_U3_S13         3 4 1 2 _U3_S13
RS_U3_S13         1 2 1G
.MODEL         _U3_S13 VSWITCH Roff=1e9 Ron=10m Voff=0.2V Von=0.8
.ends DRIVER_U3_S13
*$
.subckt DRIVER_U3_S7 1 2 3 4  
S_U3_S7         3 4 1 2 _U3_S7
RS_U3_S7         1 2 1G
.MODEL         _U3_S7 VSWITCH Roff=1e9 Ron=250m Voff=3 Von=4
.ends DRIVER_U3_S7
*$
.subckt DRIVER_U3_S4 1 2 3 4  
S_U3_S4         3 4 1 2 _U3_S4
RS_U3_S4         1 2 1G
.MODEL         _U3_S4 VSWITCH Roff=1e8 Ron=250m Voff=2 Von=3
.ends DRIVER_U3_S4
*$
.model D_D121 d
+ is=1e-015
+ tt=1e-011
+ rs=0.005
+ n=0.001
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s)>{vthresh},5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1 
cdummy1 q 0 1n 
cdummy2 qb 0 1n
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.01
.ends srlatchrhp_basic_gen
*$
.model D_D112 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.01
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.subckt d_d1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.01
.ends d_d1
*$
.SUBCKT CESR IN OUT
+ PARAMS:  C=100u ESR=0.01 X=2 IC=0
C	IN 1 {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
